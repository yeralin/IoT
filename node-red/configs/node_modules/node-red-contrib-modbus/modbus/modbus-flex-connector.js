"use strict";module.exports=function(i){require("source-map-support").install();var n=require("./modbus-basics"),s=require("debug")("contribModbus:flex:connector");i.nodes.registerType("modbus-flex-connector",function(e){i.nodes.createNode(this,e),this.name=e.name,this.maxReconnectsPerMinute=e.maxReconnectsPerMinute||4,this.emptyQueue=e.emptyQueue,this.showStatusActivities=e.showStatusActivities,this.showErrors=e.showErrors,this.connection=null;var t=this;n.setNodeStatusTo("waiting",t);var o=i.nodes.getNode(e.server);o&&(o.registerForModbus(t),n.initModbusClientEvents(t,o),t.on("input",function(e){n.invalidPayloadIn(e)||o.client&&(t.showStatusActivities&&n.setNodeStatusTo(o.actualServiceState,t),e.payload.connectorType?(s("dynamicReconnect: "+JSON.stringify(e.payload)),e.payload.emptyQueue=t.emptyQueue,o.emit("dynamicReconnect",e)):t.error(new Error("Payload Not Valid - Connector Type"),e))}))})};
//# sourceMappingURL=maps/modbus-flex-connector.js.map
